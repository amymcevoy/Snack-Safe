<ion-content class="scan-bg">
  <div class="center-wrapper">    
    <div class="form">
      
      <ion-button class="return-btn-top" fill="clear" (click)="goHome()">
        ‚Üê 
      </ion-button>
    
      <ion-button expand="block" class="scan-Btn" (click)="scanBarcode()">
        Scan Barcode
      </ion-button>


      <ng-container *ngIf="scanResult as result">
        <div class="scan-result">
          <h4>{{ result.name }}</h4>
          <p>Barcode: {{ result.code }}</p>

          <ng-container *ngIf="result.allergens?.[0] !== 'None detected'">
            <p>
              <strong>Contains:</strong> {{ result.allergens?.join(', ') }}
            </p>
          </ng-container>

          <ng-container *ngIf="result.allergens?.[0] !== 'None detected'">
            <p>
              <strong>No allergens found. Safe to eat!:</strong> {{ result.allergens?.join(', ') }}
            </p>
          </ng-container>

        </div>
      </ng-container>

      <!-- Error message -->
      <div class="scan-error" *ngIf="scanError">
        <p>{{ scanError }}</p>
      </div>
    </div>
  </div>
</ion-content>
